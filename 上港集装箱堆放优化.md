# 上港集装箱堆放优化

## 问题描述：

##### 对货物的处理分为：进，提，装，卸，转五个操作

- 进：即外集卡从码头外运送箱子到堆场箱区，用于货物的出口。货物进堆场的时间一般早于发船时间5天。
- 装：由内集卡/AGV将**进**的箱子从堆场运送到岸桥对应桥吊。
- 卸：由内集卡/AGV将到港船只的货物从船上卸下，运动到堆场中。
- 提：由外集卡将**卸**下的箱子从堆场运送出码头，一般1-7天内会提走。
- 转：由于要**装**或**提**的箱子，可能在其余箱子的下方，需要将其上方的所有箱子，做一个转箱的操作。

##### 堆场箱区模型

箱区模型大概如图，一个箱区是6排（宽，y轴）4层（高，z轴）x个贝位（x轴）。轮胎吊（轮胎式起重机）的轮胎在x轴上来回移动，轮胎吊的顶部作业滑轮在y轴上移动。

![堆场模型](./箱区模型.png)

**车辆调度模块**

主要针对**装**和**卸**，在堆场中，车辆调度有两个地方做了优化，主要目标都是降低车辆空载率：

1. 对于要装船的箱子，寻找较近的内集卡/AGV来完成
2. 对于卸下来的箱子，内集卡/AGV将其**卸**在指定地点，卸完后，顺便装附近的箱子再去岸桥

##### 优化目标

1. 提高轮胎吊效率：要想提高轮胎吊效率，应尽量减少轮胎吊在x轴来回移动的距离
2. 使箱区尽可能容纳多的箱子：但是如果容纳率太高，会导致频繁转箱且没有转箱的位置，一般80%左右比较适合，同时日常转箱的操作可暂不考虑资源的消耗
3. 减少车辆空载率：主要由之前的车辆调度模块完成



##### 待决策变量

​        总的来说，要考虑一批**进**的箱子，要堆放在堆场的什么位置，而一批要**卸**下来的箱子，要卸在什么地方。只要这两个确定了，那么对于一批任务，**装**箱地点和**提**箱地点也就确定了。单个阶段不具有较大的优化空间，只有在**卸**和**装**这两个阶段之间才有优化空间，如车辆调度模块第二点所述，将货物卸在马上要装的箱子附近可以提高车辆和轮胎吊的效率。

##### 其余影响因素



##### 初步思路

1. 箱区按照前后划分，那么当同时有装卸任务时，可以卸船的AGV重车到箱区，然后轮胎吊在y轴方向移动，先放货物、再提货物到AGV，AGV再重车回。可以减少轮胎吊在x轴的移动。
2. 同时相同作业任务的箱子（指同一批货物）最好堆放在一起，如果在同一个箱区中分散堆放，在外集卡提箱和内集卡装箱时肯定会使轮胎吊来回移动，并且在z轴上，最好要保证这4个箱子是同一批货物，可以尽量避免转箱。
3. 但是如果把同一批货物全部堆放在同一个箱区，会使该箱区的车流量增大，可能会导致内集卡和外集卡车辆在此处聚集，从而空等。所以根据某批货物数量，把同一批货物，平均堆放在不同的箱区内，而在同一个箱区内集中堆放。（这主要取决于这批货物的数量）



##### 其余问题



